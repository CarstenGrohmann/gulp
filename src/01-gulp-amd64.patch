diff -uN gulp-1.58.dist/check64bit.c gulp-1.58.amd64/check64bit.c
--- gulp-1.58.dist/check64bit.c	2008-01-14 22:55:18.000000000 +0100
+++ gulp-1.58.amd64/check64bit.c	1970-01-01 01:00:00.000000000 +0100
@@ -1,16 +0,0 @@
-#include <stdio.h>
-
-/*
- * Because of potential incompatibility between 32-bit and 64-bit pcap files
- * check if this is a 64-bit compile and if so, emit a helpful message.
- */
-
-main () {
-    if (sizeof (long) != 4 || getenv("TEST64BIT")) {
-	fprintf(stderr,
-	    "\n\nIf output from Gulp is not compatible with "
-	    "tcpdump or wireshark,\nPlease see: "
-	    "http://staff.washington.edu/corey/gulp/gulp.html#64bit\n\n\n");
-	sleep(5);
-	}
-    }
diff -uN gulp-1.58.dist/gulp.c gulp-1.58.amd64/gulp.c
--- gulp-1.58.dist/gulp.c	2008-03-18 22:12:32.000000000 +0100
+++ gulp-1.58.amd64/gulp.c	2010-08-25 18:26:25.000000000 +0200
@@ -224,22 +224,14 @@
 	ph.caplen -= gre_hdrlen;
 	ph.len -= gre_hdrlen;
 
-#ifdef PCAP32_KLUDGE
 	/*
-	 * Because struct timeval is bigger on 64-bit linux than 32-bit
-	 * linux and struct pcap_pkthdr has a struct timeval in it, pcap
-	 * files generated by Gulp on 64-bit linux may be incompatible
-	 * with programs expecting pcap files from 32-bit systems.  If
-	 * you want Gulp to generate 32-bit compatible pcap files, first
-	 * try compiling it after adding -m32 to CFLAGS in the Makefile
-	 * (you may also need to install a 32-bit libpcap-devel package).
-	 *
-	 * If that doesn't work, try instead adding -DPCAP32_KLUDGE but
-	 * note that the PCAP32_KLUDGE is not a complete solution
-	 * because it will cause gulp to write files which it can't
-	 * itself read (because reading is done by the pcap library code
-	 * which will still be expecting 64-bit longs in struct timevals
-	 * in packet headers).
+	 * So that a capture file's layout is independent of the
+	 * word size of the machine on which it's written, a packet
+	 * record in a pcap file doesn't have a struct pcap_pkthdr
+	 * at the beginning; it has a structure defined internally
+	 * to libpcap, struct pcap_sf_pkthdr, which begins with another
+	 * structure define internally to libpcap, struct pcap_timeval,
+	 * with 32-bit tv_sec and tv_usec values.
 	 */
 	if (sizeof(long) > sizeof(int) && sizeof(int) > sizeof(short)) {
 	    struct timeval_32 {
@@ -253,7 +245,6 @@
 		   sizeof(struct pcap_pkthdr) - sizeof(struct timeval), 0);
 	    }
 	else 
-#endif /* PCAP32_KLUDGE */
 	    append((char *)&ph, sizeof(struct pcap_pkthdr), 0);
 	append((char *)packet+gre_hdrlen, ph.caplen, 1);
 	}
diff -uN gulp-1.58.dist/Makefile gulp-1.58.amd64/Makefile
--- gulp-1.58.dist/Makefile	2008-03-14 20:50:10.000000000 +0100
+++ gulp-1.58.amd64/Makefile	2010-11-15 20:42:24.443818003 +0100
@@ -1,13 +1,10 @@
 CFLAGS = -O
 #CFLAGS = -O -DRHEL3
 #CFLAGS = -O -DJUSTCOPY
-#CFLAGS = -O -DPCAP32_KLUDGE
-#CFLAGS = -O -m32
 
-FILES=license.txt NOTICE gulp.c gulp.1 gulpman.html gulpman.pdf Makefile conv.c gulp.html check64bit.c changelog
+FILES=license.txt NOTICE gulp.c gulp.1 gulpman.html gulpman.pdf Makefile conv.c gulp.html changelog
 
-gulp:	gulp.c check64bit
-	./check64bit; rm -f check64bit
+gulp:	gulp.c 
 	cc -g $(CFLAGS) gulp.c -o gulp -lpthread -lpcap
 
 gulpman.html:	gulp.1
